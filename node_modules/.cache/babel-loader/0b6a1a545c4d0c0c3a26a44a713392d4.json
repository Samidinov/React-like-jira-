{"ast":null,"code":"var _jsxFileName = \"/home/ds/Desktop/react/todo-list/src/App.js\";\nimport React, { Component } from 'react';\nimport { ReactSortable } from 'react-sortablejs';\nimport TodoCard from './todo/todo-card';\nimport ItemContext from './todo/itemContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      card: []\n    };\n\n    this.addCard = setTitle => {\n      const newCard = {\n        title: 'New card',\n        id: Date.now(),\n        todoitems: []\n      };\n      this.setState({\n        card: [...this.state.card, newCard]\n      });\n    };\n\n    this.changeTitleOfCard = (index, event) => {\n      const newState = { ...this.state\n      };\n      newState.card[index].title = event.target.value;\n      this.setState(newState);\n    };\n\n    this.deleteCard = index => {\n      this.setState(this.state.card.splice(index, 1));\n    };\n\n    this.updateCards = card => {\n      this.setState({\n        card\n      });\n    };\n\n    this.addTodoItem = (title, index) => {\n      // console.log(...this.state.card[index].todoitems);\n      if (title.trim()) {\n        const newTodo = {\n          title: title,\n          done: false,\n          id: Date.now(),\n          chosen: false,\n          selected: false\n        };\n        const card = this.copyTodoCard();\n        card[index].todoitems.push(newTodo);\n        this.setState({\n          card\n        });\n      }\n    };\n\n    this.copyTodoCard = () => {\n      return this.state.card;\n    };\n\n    this.renameTodoItem = (index, todoIndex, newTitle) => {\n      const card = this.copyTodoCard();\n      card[index].todoitems[todoIndex].title = newTitle;\n      this.setState(card => {\n        return card;\n      });\n    };\n\n    this.updateTodosHandle = (todoitems, index) => {\n      const card = this.copyTodoCard();\n      card[index].todoitems.splice(0, card[index].todoitems.length, ...todoitems);\n      this.setState(card => {\n        return card;\n      });\n    };\n\n    this.deleteTodosItem = (itemIndex, index) => {\n      this.setState(this.state.card[index].todoitems.splice(itemIndex, 1));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(ReactSortable, {\n        list: this.state.card,\n        setList: this.updateCards,\n        className: \"d-flex align-items-start\",\n        style: {\n          overflow: \"auto\",\n          whiteSpace: \"nowrap\",\n          height: \"100vh\"\n        },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [this.state.card.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(ItemContext.Provider, {\n              value: {\n                renameTodoItem: this.renameTodoItem,\n                index: index\n              },\n              children: /*#__PURE__*/_jsxDEV(TodoCard, {\n                cardTitle: item.title,\n                changeTitleOfCard: event => this.changeTitleOfCard(index, event),\n                deleteCard: () => this.deleteCard(index),\n                addTodoItem: title => this.addTodoItem(title, index),\n                todoitems: this.state.card[index].todoitems,\n                updateTodosHandle: todoitems => this.updateTodosHandle(todoitems, index),\n                deleteTodosItem: itemIndex => this.deleteTodosItem(itemIndex, index)\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(AddNewCard, {\n            onClick: this.addCard\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nfunction AddNewCard({\n  onClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert ml-2 mt-2 pr-1 pl-1text-center d-flex\",\n    style: {\n      background: '#f0f0f0'\n    },\n    onClick: onClick,\n    children: \"+add new card\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_c = AddNewCard;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewCard\");","map":{"version":3,"sources":["/home/ds/Desktop/react/todo-list/src/App.js"],"names":["React","Component","ReactSortable","TodoCard","ItemContext","App","state","card","addCard","setTitle","newCard","title","id","Date","now","todoitems","setState","changeTitleOfCard","index","event","newState","target","value","deleteCard","splice","updateCards","addTodoItem","trim","newTodo","done","chosen","selected","copyTodoCard","push","renameTodoItem","todoIndex","newTitle","updateTodosHandle","length","deleteTodosItem","itemIndex","render","overflow","whiteSpace","height","map","item","AddNewCard","onClick","background"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { ReactSortable } from 'react-sortablejs';\nimport TodoCard from './todo/todo-card';\nimport ItemContext from './todo/itemContext'\n\n\nclass App extends Component{\n  \n    state = {\n\n      card:\n        [\n         \n        ]\n    };\n\n  //card functions\n\n  addCard = (setTitle) => {\n    const newCard = { title:'New card', id:Date.now(), todoitems:[]}\n    this.setState({card : [...this.state.card,newCard]})\n  }\n\n  changeTitleOfCard = (index, event) => {\n    const newState = {...this.state};\n    newState.card[index].title= event.target.value;\n    this.setState(newState);\n  }\n\n  deleteCard = (index) => {\n    this.setState(this.state.card.splice(index,1))\n  }\n\n  updateCards = (card) => {\n    this.setState({card});\n  }\n\n  //Todo items functions\n\n  addTodoItem = (title, index) => {\n    // console.log(...this.state.card[index].todoitems);\n    if(title.trim()) {\n      const newTodo = {\n        title:title,\n        done:false,\n        id: Date.now(),\n        chosen:false,\n        selected: false\n      };\n\n      const card = this.copyTodoCard();\n      card[index].todoitems.push(newTodo);\n      this.setState({card});\n    }\n  }\n\n  copyTodoCard = () => {\n   return this.state.card;\n  }\n\n  renameTodoItem = (index, todoIndex, newTitle) => {\n    const card = this.copyTodoCard();\n    card[index].todoitems[todoIndex].title =newTitle;\n    this.setState(card => {\n      return card\n    });\n\n  }\n\n  updateTodosHandle = (todoitems, index) => {\n    const card = this.copyTodoCard();\n    card[index].todoitems.splice(0, card[index].todoitems.length, ...todoitems);\n    this.setState(card => {\n      return card\n    });\n\n  }\n\n  deleteTodosItem = (itemIndex, index) => {\n    this.setState(this.state.card[index].todoitems.splice(itemIndex,1));\n  }\n\n  render() {\n    return (  \n      < >\n          <ReactSortable list={this.state.card} setList={this.updateCards} className=\"d-flex align-items-start\" style={{overflow: \"auto\",whiteSpace: \"nowrap\", height: \"100vh\"}}>{  \n            <>{\n              this.state.card.map((item, index) => {\n              return (\n                <ItemContext.Provider value={{renameTodoItem: this.renameTodoItem, index:index}}>\n                  <TodoCard \n                    cardTitle={item.title} \n                    changeTitleOfCard={(event)=>this.changeTitleOfCard(index, event)} \n                    deleteCard = {()=>this.deleteCard(index)} \n                    key={item.id}\n                    addTodoItem={(title)=>this.addTodoItem(title,index)} \n                    todoitems = {this.state.card[index].todoitems} \n                    updateTodosHandle = {(todoitems) => this.updateTodosHandle(todoitems, index)} \n                    deleteTodosItem={(itemIndex)=>this.deleteTodosItem(itemIndex, index)}\n                    >\n                  </TodoCard>\n                </ItemContext.Provider>\n              )\n            })}\n            <AddNewCard onClick={this.addCard}/>\n\n          </>\n          }\n          </ReactSortable>\n      </>\n    );\n  }\n}\n\nfunction AddNewCard({onClick}){\n  return(\n    <div className=\"alert ml-2 mt-2 pr-1 pl-1text-center d-flex\" style={{background:'#f0f0f0'}} onClick={onClick}>\n      +add new card \n    </div>\n\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}